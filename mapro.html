<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto MAPRO</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
            height: 100vh;
            overflow: hidden;
        }

        .chat-container {
            width: 100%;
            max-width: 800px;
            height: 80vh;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        .message {
            margin-bottom: 10px;
            max-width: 80%;
            padding: 10px;
            border-radius: 20px;
            font-size: 14px;
        }

        .bot-message {
            background-color: #e0f7fa;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }

        .user-message {
            background-color: #f8bbd0;
            align-self: flex-end;
            border-bottom-right-radius: 0;
            color: #333;
        }

        .bot-avatar {
            width: 30px;
            height: 30px;
            background-color: #00b0ff;
            border-radius: 50%;
            margin-right: 10px;
            display: inline-block;
            vertical-align: middle;
        }

        .message-wrapper {
            display: flex;
            align-items: flex-end;
            margin-bottom: 10px;
        }

        .bot .message-wrapper {
            justify-content: flex-start;
        }

        .user .message-wrapper {
            justify-content: flex-end;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }

        .option-button {
            background-color: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
        }

        .option-button.pink {
            background-color: #e91e63;
        }

        .input-container {
            width: 100%;
            max-width: 800px;
            display: flex;
            padding: 10px;
            background-color: #f5f5f5;
            box-sizing: border-box;
        }

        #user-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin-right: 10px;
        }

        #send-button {
            background-color: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        .logo {
            font-size: 48px;
            color: #e91e63;
            margin-top: 20px;
            display: flex;
            align-items: center;
        }

        .ribbon {
            font-size: 48px;
            margin-left: 10px;
        }

        .info-box {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }

        .list {
            list-style-type: none;
            padding: 0;
        }

        .list li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="chat-container" id="chat-container"></div>
    <div class="input-container">
        <input type="text" id="user-input" placeholder="Digite seu nome ou mensagem...">
        <button id="send-button">Enviar</button>
    </div>
    <div class="logo">MAPRO <span class="ribbon">üéÄ</span></div>

    <script>
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        let userName = '';
        let currentState = 'intro';
        let cancerType = '';

        function addMessage(text, type = 'bot', options = [], infoBox = false) {
            const wrapper = document.createElement('div');
            wrapper.classList.add('message-wrapper', type);

            if (type === 'bot') {
                const avatar = document.createElement('div');
                avatar.classList.add('bot-avatar');
                wrapper.appendChild(avatar);
            }

            const message = document.createElement('div');
            message.classList.add('message', type === 'bot' ? 'bot-message' : 'user-message');
            if (infoBox) {
                message.classList.add('info-box');
            }
            message.innerHTML = text;
            wrapper.appendChild(message);

            if (options.length > 0) {
                const optsDiv = document.createElement('div');
                optsDiv.classList.add('options');
                options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.classList.add('option-button');
                    if (opt.class) btn.classList.add(opt.class);
                    btn.textContent = opt.text;
                    btn.onclick = opt.action;
                    optsDiv.appendChild(btn);
                });
                message.appendChild(optsDiv);
            }

            chatContainer.appendChild(wrapper);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function handleUserInput() {
            const text = userInput.value.trim();
            if (!text) return;
            addMessage(text, 'user');
            userInput.value = '';

            if (currentState === 'askName') {
                userName = text;
                addMessage(`Ol√°, ${userName}! üòä`);
                currentState = 'askCancerType';
                addMessage('Voc√™ deseja informa√ß√µes sobre:', 'bot', [
                    { text: 'C√¢ncer de Mama', action: () => chooseCancer('mama'), class: 'pink' },
                    { text: 'C√¢ncer de Pr√≥stata', action: () => chooseCancer('prostata'), class: 'pink' },
                    { text: 'Sair', action: () => addMessage('Adeus!') }
                ]);
            }
        }

        function chooseCancer(type) {
            cancerType = type;
            addMessage(type === 'mama' ? 'C√¢ncer de Mama' : 'C√¢ncer de Pr√≥stata', 'user');
            showMainOptions();
        }

        function showMainOptions() {
            addMessage('Escolha uma das op√ß√µes abaixo:', 'bot', [
                { text: 'Tratamentos', action: showTratamentos },
                { text: 'Sintomas', action: showSintomas },
                { text: 'Preven√ß√£o', action: showPrevencao },
                { text: 'Apoio emocional e suporte', action: showApoio },
                { text: 'Novidades cient√≠ficas', action: showNovidades },
                { text: 'Exames', action: showExames },
                { text: 'Voltar', action: () => currentState = 'askCancerType' }
            ]);
        }

        function showNovidades() {
            addMessage('Novidades cient√≠ficas', 'user');
            const text = `
                Esses avan√ßos est√£o melhorando a capacidade de detectar, tratar e personalizar o tratamento para pacientes com c√¢ncer de pr√≥stata, e as perspectivas para o futuro s√£o promissoras, com a esperan√ßa de tratamentos mais eficazes.<br><br>
                Novidades sobre o c√¢ncer de pr√≥stata:<br>
                - Avan√ßos nos testes de diagn√≥stico.<br>
                - Terapias direcionadas e imunoterapia.<br>
                - Radioterapia avan√ßada.<br>
                - Terapias hormonais e novas drogas.<br>
                - Abordagens personalizadas e biomarcadores.<br>
                - Estudos em gen√©tica e microbioma.
            `;
            addMessage(text, 'bot', [
                { text: 'Avan√ßos nos testes de diagn√≥stico', action: () => {} },
                { text: 'Terapias direcionadas e imunoterapia', action: () => {} },
                { text: 'Radioterapia avan√ßada', action: () => {} }
            ], true);
            addBottomButtons();
        }

        function showSintomas() {
            addMessage('Sintomas', 'user');
            const text = `
                - Dificuldade em urinar;<br>
                - Aumento na frequ√™ncia urin√°ria;<br>
                - Sensa√ß√£o de esvaziamento incompleto da bexiga, mesmo ap√≥s urinar, ainda sente que a bexiga n√£o est√° completamente vazia.<br>
                - Sangue na urina;<br>
                - Dor ou ard√™ncia ao urinar;<br>
                - Dor nas costas, quadril ou perna;<br>
                - Disfun√ß√£o er√©til;<br><br>
                Se voc√™ est√° sentindo algum poss√≠vel sintoma, procure um m√©dico o mais r√°pido poss√≠vel!
            `;
            addMessage(text, 'bot', [], true);
            addBottomButtons();
        }

        function showPrevencao() {
            addMessage('Preven√ß√£o', 'user');
            const text = `
                Alguns h√°bitos de preven√ß√£o sobre o c√¢ncer de pr√≥stata s√£o:<br>
                1- Ter uma alimenta√ß√£o saud√°vel.<br>
                2- Praticar atividade f√≠sica regularmente.<br>
                3- Manter o peso corporal adequado.<br>
                4- N√£o fumar.<br>
                5- Evitar o consumo de bebidas alco√≥licas.<br>
                Consulte seu m√©dico regularmente.
            `;
            addMessage(text, 'bot', [], true);
            addBottomButtons();
        }

        function showTratamentos() {
            addMessage('Tratamentos', 'user');
            const text = `
                Seja bem vindo(a), Sou o bot de assist√™ncia sobre tratamentos do c√¢ncer de pr√≥stata.<br><br>
                Os tipos de tratamentos do c√¢ncer de pr√≥stata s√£o:<br>
                1- Cirurgia (Prostatectomia radical)<br>
                2- Radioterapia<br>
                3- Observa√ß√£o vigilante<br>
                4- Hormonioterapia<br>
                5- Quimioterapia<br>
                6- Radiof√°rmacos<br><br>
                Tem mais alguma d√∫vida?
            `;
            addMessage(text, 'bot', [
                { text: 'Mais informa√ß√µes sobre os tratamentos', action: () => {} },
                { text: 'Voltar ao in√≠cio', action: showMainOptions },
                { text: 'Finalizar', action: () => {} }
            ], true);
            addBottomButtons();
        }

        function showApoio() {
            addMessage('Apoio emocional e suporte', 'user');
            const text = `
                Ol√°, ! Sou o Raimundo. Estou aqui para te dar o apoio e te acompanhar na sua jornada de bem-estar.<br><br>
                responda abaixo:
            `;
            addMessage(text, 'bot', [
                { text: 'N√£o diagnosticado', action: () => {} },
                { text: 'Diagnosticado', action: () => {} }
            ], true);
            addBottomButtons();
        }

        function showExames() {
            addMessage('Exames', 'user');
            const text = `
                Os exames regulares v√£o determinar se h√° um tumor, seu tipo e a agressividade, impactando diretamente a escolha do tratamento.<br><br>
                E determinar quais s√£o as op√ß√µes de tratamento. O ideal √© sempre descobrir a doen√ßa ainda no est√°gio inicial, quando esta restrita √† pr√≥stata, 
                dando chance a perspectiva de cura do paciente, com radioterapia ou cirurgia.<br><br>
                Exames utilizados:<br>
                1-Toque Retal<br>
                2-PSA<br>
                3-Ultrassonografia de pr√≥stata<br>
                4-Bi√≥psia<br>
                5-Tomografia computadorizada<br>
                6-Resson√¢ncia magn√©tica
            `;
            addMessage(text, 'bot', [], true);
            addBottomButtons();
        }

        function addBottomButtons() {
            const buttons = document.createElement('div');
            buttons.classList.add('options');
            ['Voltar', 'Compartilhar', 'Avaliar', 'Sair'].forEach(txt => {
                const btn = document.createElement('button');
                btn.classList.add('option-button');
                btn.textContent = txt;
                btn.onclick = () => {
                    if (txt === 'Voltar') showMainOptions();
                };
                buttons.appendChild(btn);
            });
            chatContainer.appendChild(buttons);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Initial messages
        addMessage('Somos o Projeto MAPRO, um canal de assist√™ncia sobre c√¢ncer de mama e c√¢ncer de pr√≥stata.');
        addMessage('Temos diversas informa√ß√µes para te ajudar a entender melhor sobre o assunto.');
        addMessage('Para um melhor atendimento, gostar√≠amos de saber o seu nome:');
        currentState = 'askName';

        sendButton.onclick = handleUserInput;
        userInput.onkeypress = e => { if (e.key === 'Enter') handleUserInput(); };
    </script>
</body>
</html>
